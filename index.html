<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Secret Gallery</title>
  <style>
    /* ================== CSS ================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #333;
    }

    /* Login Page Styles */
    .login-container {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
    }

    .login-box {
      background: white;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      max-width: 400px;
      width: 100%;
      text-align: center;
    }

    .login-box h1 {
      margin-bottom: 30px;
      color: #667eea;
      font-size: 28px;
    }

    .login-box input {
      width: 100%;
      padding: 15px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 16px;
      margin-bottom: 20px;
      transition: border-color 0.3s;
    }

    .login-box input:focus {
      outline: none;
      border-color: #667eea;
    }

    .login-box button {
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .login-box button:hover {
      transform: translateY(-2px);
    }

    .error-message {
      color: #e74c3c;
      margin-top: 15px;
      font-size: 14px;
    }

    .example-images {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-top: 30px;
    }

    .example-images img {
      width: 100%;
      height: 150px;
      object-fit: cover;
      border-radius: 10px;
    }

    /* Gallery Page Styles */
    .gallery-container {
      display: none;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .gallery-header {
      background: white;
      padding: 30px;
      border-radius: 20px;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .gallery-header h1 {
      color: #667eea;
      margin-bottom: 20px;
      font-size: 32px;
    }

    .search-box {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }

    .search-box input {
      flex: 1;
      padding: 12px 20px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 16px;
    }

    .search-box input:focus {
      outline: none;
      border-color: #667eea;
    }

    .search-box button {
      padding: 12px 30px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.3s;
    }

    .search-box button:hover {
      background: #764ba2;
    }

    .logout-btn {
      padding: 10px 25px;
      background: #e74c3c;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
    }

    .logout-btn:hover {
      background: #c0392b;
    }

    .search-result {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      text-align: center;
      color: #667eea;
      font-weight: bold;
    }

    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }

    .gallery-item {
      background: white;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
    }

    .gallery-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }

    .gallery-item-header {
      padding: 15px;
      background: #f8f9fa;
      border-bottom: 2px solid #e0e0e0;
    }

    .gallery-item-header h3 {
      color: #667eea;
      font-size: 18px;
    }

    .gallery-item-content {
      padding: 15px;
    }

    .gallery-item img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .gallery-item img:hover {
      transform: scale(1.05);
    }

    .gallery-item video {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 10px;
    }

    .no-results {
      text-align: center;
      padding: 50px;
      background: white;
      border-radius: 20px;
      color: #999;
      font-size: 18px;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      animation: fadeIn 0.3s;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      position: relative;
      margin: auto;
      padding: 20px;
      max-width: 90%;
      max-height: 90vh;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
    }

    .modal-content img {
      max-width: 100%;
      max-height: 90vh;
      object-fit: contain;
    }

    .close {
      position: absolute;
      top: 20px;
      right: 40px;
      color: white;
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
      z-index: 1001;
    }

    .close:hover {
      color: #ccc;
    }

    .hidden { display: none; }

    @media (max-width: 768px) {
      .search-box { flex-wrap: wrap; }
      .search-box input { width: 100%; }
      .gallery-grid { grid-template-columns: 1fr; }
      .example-images { grid-template-columns: repeat(2, 1fr); }
    }
  </style>
</head>
<body>
  <!-- ================== HTML ================== -->
  <div id="loginPage" class="login-container">
    <div class="login-box">
      <h1>üîí Admin</h1>
      <input type="password" id="passwordInput" placeholder="‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" />
      <button onclick="checkPassword()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
      <div id="errorMessage" class="error-message"></div>
      <div id="exampleImagesContainer" class="example-images hidden"></div>
    </div>
  </div>

  <div id="galleryPage" class="gallery-container">
    <div class="gallery-header">
      <h1>üñºÔ∏è Gallery</h1>
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ..." />
        <button onclick="searchGallery()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
        <button onclick="showAll()">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
        <button class="logout-btn" onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
      </div>
    </div>
    <div id="galleryGrid" class="gallery-grid"></div>
  </div>

  <div id="imageModal" class="modal" onclick="closeModal()">
    <span class="close">&times;</span>
    <div class="modal-content">
      <img id="modalImage" src="/placeholder.svg" alt="Full size image">
    </div>
  </div>

  <script>
    /* ================== JavaScript ================== */
    const CONFIG = {
      password: "1234",
      wrongPasswordMessage: "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!",
      exampleImages: [
        "https://via.placeholder.com/150",
        "https://via.placeholder.com/150/0000FF",
        "https://via.placeholder.com/150/FF0000"
      ],
      dataFile: "gallery.json" // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô path ‡∏Ç‡∏≠‡∏á JSON ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
    };

    let galleryData = [];

    async function loadData() {
      try {
        const response = await fetch(CONFIG.dataFile);
        galleryData = await response.json();
      } catch (error) {
        console.error("Error loading data:", error);
        galleryData = [];
      }
    }

    function checkPassword() {
      const input = document.getElementById("passwordInput");
      const errorMessage = document.getElementById("errorMessage");
      const exampleContainer = document.getElementById("exampleImagesContainer");

      if (input.value === CONFIG.password) {
        document.getElementById("loginPage").style.display = "none";
        document.getElementById("galleryPage").style.display = "block";
        loadData().then(() => displayGallery(galleryData));
      } else {
        errorMessage.textContent = CONFIG.wrongPasswordMessage;
        exampleContainer.classList.remove("hidden");
        exampleContainer.innerHTML = "";
        CONFIG.exampleImages.forEach(imgUrl => {
          const img = document.createElement("img");
          img.src = imgUrl;
          img.alt = "Example image";
          exampleContainer.appendChild(img);
        });
      }
    }

    function displayGallery(data) {
      const grid = document.getElementById("galleryGrid");
      grid.innerHTML = "";

      if (data.length === 0) {
        grid.innerHTML = '<div class="no-results">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>';
        return;
      }

      data.forEach(item => {
        const galleryItem = document.createElement("div");
        galleryItem.className = "gallery-item";

        let content = `
          <div class="gallery-item-header">
            <h3>üë§ ${item.user}</h3>
            ${item.text ? `<p>${item.text}</p>` : ""}
          </div>
          <div class="gallery-item-content">
        `;

        item.images.forEach(imgUrl => {
          content += `<img src="${imgUrl}" alt="${item.user}" onclick="openModal('${imgUrl}')">`;
        });

        item.videos.forEach(videoUrl => {
          content += `<video controls>
            <source src="${videoUrl}" type="video/mp4">
            Your browser does not support the video tag.
          </video>`;
        });

        content += "</div>";
        galleryItem.innerHTML = content;
        grid.appendChild(galleryItem);
      });
    }

    function searchGallery() {
      const searchTerm = document.getElementById("searchInput").value.trim().toLowerCase();
      if (!searchTerm) return showAll();

      const filteredData = galleryData.filter(item => item.user.toLowerCase().includes(searchTerm));
      const grid = document.getElementById("galleryGrid");
      grid.innerHTML = "";

      const resultMessage = document.createElement("div");
      resultMessage.className = "search-result";
      if (filteredData.length > 0) {
        resultMessage.textContent = `‡πÄ‡∏à‡∏≠ ${filteredData.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ "${searchTerm}"`;
        resultMessage.style.color = "#27ae60";
      } else {
        resultMessage.textContent = `‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ "${searchTerm}"`;
        resultMessage.style.color = "#e74c3c";
      }
      grid.appendChild(resultMessage);

      if (filteredData.length > 0) displayGallery(filteredData);
      else {
        const noResults = document.createElement("div");
        noResults.className = "no-results";
        noResults.textContent = "‡∏•‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏≠‡∏∑‡πà‡∏ô‡∏î‡∏π‡πÑ‡∏´‡∏°?";
        grid.appendChild(noResults);
      }
    }

    function showAll() {
      document.getElementById("searchInput").value = "";
      displayGallery(galleryData);
    }

    function logout() {
      document.getElementById("loginPage").style.display = "flex";
      document.getElementById("galleryPage").style.display = "none";
      document.getElementById("passwordInput").value = "";
      document.getElementById("errorMessage").textContent = "";
      document.getElementById("exampleImagesContainer").classList.add("hidden");
    }

    function openModal(imgUrl) {
      const modal = document.getElementById("imageModal");
      const modalImg = document.getElementById("modalImage");
      modal.style.display = "block";
      modalImg.src = imgUrl;
    }

    function closeModal() {
      document.getElementById("imageModal").style.display = "none";
    }

    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("passwordInput")?.addEventListener("keypress", (e) => {
        if (e.key === "Enter") checkPassword();
      });
      document.getElementById("searchInput")?.addEventListener("keypress", (e) => {
        if (e.key === "Enter") searchGallery();
      });
    });
  </script>
</body>
</html>
